<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flattrade Option Trading</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .strike-btn {
            transition: all 0.2s ease;
            border-radius: 8px;
            font-weight: 500;
        }
        .strike-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .strike-btn.active {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0,123,255,0.5);
        }
        .atm-strike {
            background: linear-gradient(45deg, #ffc107, #fd7e14);
            border: none;
            color: white;
            font-weight: bold;
        }
        .otm-call {
            background: linear-gradient(45deg, #28a745, #20c997);
            border: 1px solid #28a745;
            color: white;
        }
        .itm-call {
            background: linear-gradient(45deg, #dc3545, #e83e8c);
            border: 1px solid #dc3545;
            color: white;
        }
        .quick-atm-btn {
            font-size: 0.875rem;
            padding: 0.375rem 0.5rem;
        }
        .spot-price-box {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border-radius: 10px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h1 class="text-center mb-4">
            <i class="fas fa-chart-line text-primary"></i>
            Flattrade Option Trading
        </h1>
        
        <!-- Alert Container -->
        <div id="alertContainer"></div>
        
        <!-- User Status -->
        <div class="row mb-4">
            <div class="col-md-8 mx-auto">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Authentication Status</h5>
                    </div>
                    <div class="card-body">
                        <div id="userStatus">
                            <div class="alert alert-info">
                                <i class="fas fa-spinner fa-spin"></i> Checking authentication status...
                            </div>
                        </div>
                        
                        <!-- Trading Button - shown when authenticated -->
                        <div class="text-center mt-3">
                            <button type="button" class="btn btn-success btn-lg" id="authUrlBtn" onclick="generateAuthUrl()" style="display: none;">
                                <i class="fas fa-external-link-alt"></i> Generate Auth URL
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Login Form -->
        <div class="row mb-4">
            <div class="col-md-8 mx-auto">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Quick Login</h5>
                    </div>
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-sign-in-alt fa-3x text-primary mb-3"></i>
                            <h6>Manual Login (One Time Per Day)</h6>
                            <p class="text-muted">Login once manually and stay logged in all day</p>
                        </div>
                        
                        <button type="button" class="btn btn-primary btn-lg" onclick="manualLogin()" id="manualLoginBtn">
                            <i class="fas fa-external-link-alt"></i> Open Flattrade Login
                        </button>
                        
                        <div id="loginStatus" class="mt-3"></div>
                        
                        <div class="alert alert-info mt-3">
                            <strong><i class="fas fa-info-circle"></i> Manual Login Process:</strong>
                            <ol class="mb-0 text-start">
                                <li>Click "Open Flattrade Login" button</li>
                                <li>Complete OAuth login manually in new window</li>
                                <li>Session will be saved automatically</li>
                                <li>No more logins required for the rest of the day</li>
                                <li>Auto-login on subsequent visits</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Trading Interface -->
        <div class="row mb-4" id="tradingInterface" style="display: none;">
            <!-- User Info Panel -->
            <div class="col-12 mb-3">
                <div class="card bg-primary text-white">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3">
                                <h6><i class="fas fa-user"></i> User Info</h6>
                                <div id="userInfo">Loading...</div>
                            </div>
                            <div class="col-md-3">
                                <h6><i class="fas fa-wallet"></i> Available Margin</h6>
                                <div id="availableMargin">Loading...</div>
                            </div>
                            <div class="col-md-3">
                                <h6><i class="fas fa-chart-line"></i> Used Margin</h6>
                                <div id="usedMargin">Loading...</div>
                            </div>
                            <div class="col-md-3">
                                <h6><i class="fas fa-percentage"></i> Margin Utilization</h6>
                                <div id="marginUtilization">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Trading Panel -->
            <div class="col-md-4">
                <!-- Strike Selection & Settings -->
                <div class="card mb-3">
                    <div class="card-header">
                        <h6 class="mb-0"><i class="fas fa-cogs"></i> Trading Settings</h6>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="symbol" class="form-label">Symbol</label>
                            <select class="form-select" id="symbol">
                                <option value="NIFTY">NIFTY</option>
                                <option value="BANKNIFTY">BANKNIFTY</option>
                                <option value="FINNIFTY">FINNIFTY</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="expiryDate" class="form-label">Expiry Date</label>
                            <select class="form-select" id="expiryDate">
                                <option value="14AUG25">14 Aug 2025 (Weekly)</option>
                                <option value="21AUG25">21 Aug 2025 (Weekly)</option>
                                <option value="28AUG25">28 Aug 2025 (Monthly)</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="spotPrice" class="form-label">Current Spot Price</label>
                            <div class="spot-price-box mb-2">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <strong id="spotPriceDisplay">24500.00</strong>
                                        <small class="d-block">Live Price</small>
                                    </div>
                                    <button class="btn btn-light btn-sm" type="button" onclick="refreshSpotPrice()">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <input type="hidden" id="spotPrice" value="24500">
                        </div>
                        <div class="mb-3">
                            <label for="strikeSelection" class="form-label">Strike Selection</label>
                            <div class="row">
                                <div class="col-6">
                                    <select class="form-select" id="strikeRange">
                                        <option value="5">±5 Strikes</option>
                                        <option value="10" selected>±10 Strikes</option>
                                        <option value="15">±15 Strikes</option>
                                        <option value="20">±20 Strikes</option>
                                    </select>
                                </div>
                                <div class="col-6">
                                    <select class="form-select" id="strikeInterval">
                                        <option value="50">50 Points</option>
                                        <option value="100" selected>100 Points</option>
                                        <option value="200">200 Points</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn btn-primary w-100 mb-3" onclick="generateStrikes()">
                            <i class="fas fa-list"></i> Generate Strike List
                        </button>
                        
                        <!-- Quick Strike Selection -->
                        <div class="row mb-3">
                            <div class="col-12">
                                <label class="form-label">Quick ATM Selection:</label>
                                <div class="btn-group w-100" role="group">
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="quickSelectATM(-100)">-100</button>
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="quickSelectATM(-50)">-50</button>
                                    <button type="button" class="btn btn-warning btn-sm" onclick="quickSelectATM(0)">ATM</button>
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="quickSelectATM(50)">+50</button>
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="quickSelectATM(100)">+100</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Manual Strike Input -->
                        <div class="card bg-info text-white mb-3">
                            <div class="card-header py-2">
                                <h6 class="mb-0"><i class="fas fa-keyboard"></i> Manual Order Entry</h6>
                            </div>
                            <div class="card-body py-2">
                                <div class="row mb-2">
                                    <div class="col-6">
                                        <label class="form-label text-white">Symbol</label>
                                        <select class="form-select form-select-sm" id="manualSymbol">
                                            <option value="NIFTY">NIFTY</option>
                                            <option value="BANKNIFTY">BANKNIFTY</option>
                                            <option value="FINNIFTY">FINNIFTY</option>
                                        </select>
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label text-white">Expiry Date</label>
                                        <select class="form-select form-select-sm" id="manualExpiry">
                                            <option value="14AUG25">14 Aug 2025 (Weekly)</option>
                                            <option value="21AUG25">21 Aug 2025 (Weekly)</option>
                                            <option value="28AUG25">28 Aug 2025 (Monthly)</option>
                                            <option value="04SEP25">04 Sep 2025 (Weekly)</option>
                                            <option value="11SEP25">11 Sep 2025 (Weekly)</option>
                                            <option value="18SEP25">18 Sep 2025 (Weekly)</option>
                                            <option value="25SEP25">25 Sep 2025 (Monthly)</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-4">
                                        <label class="form-label text-white">Strike</label>
                                        <input type="number" class="form-control form-control-sm" id="manualStrike" placeholder="24500" step="50">
                                    </div>
                                    <div class="col-4">
                                        <label class="form-label text-white">Type</label>
                                        <select class="form-select form-select-sm" id="manualOptionType">
                                            <option value="CE">Call (CE)</option>
                                            <option value="PE">Put (PE)</option>
                                        </select>
                                    </div>
                                    <div class="col-4">
                                        <label class="form-label text-white">Action</label>
                                        <select class="form-select form-select-sm" id="manualAction">
                                            <option value="BUY">Buy</option>
                                            <option value="SELL">Sell</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-4">
                                        <label class="form-label text-white">Quantity</label>
                                        <input type="number" class="form-control form-control-sm" id="manualQuantity" value="75" min="25" step="25">
                                    </div>
                                    <div class="col-4">
                                        <label class="form-label text-white">Order Type</label>
                                        <select class="form-select form-select-sm" id="manualOrderType" onchange="toggleManualPriceFields()">
                                            <option value="MARKET">Market</option>
                                            <option value="LIMIT">Limit</option>
                                            <option value="GTT">GTT</option>
                                        </select>
                                    </div>
                                    <div class="col-4">
                                        <label class="form-label text-white">Price</label>
                                        <input type="number" class="form-control form-control-sm" id="manualPrice" placeholder="0.00" step="0.05" style="display: none;">
                                        <small class="text-white" id="manualPriceLabel">Market Price</small>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <button type="button" class="btn btn-light btn-sm w-100" onclick="addManualOrder()">
                                            <i class="fas fa-plus"></i> Add to Basket
                                        </button>
                                    </div>
                                    <div class="col-6">
                                        <button type="button" class="btn btn-warning btn-sm w-100" onclick="placeManualOrderDirect()">
                                            <i class="fas fa-paper-plane"></i> Place Now
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Strike List Display -->
                        <div id="strikeListDisplay" style="display: none;">
                            <div class="card bg-light">
                                <div class="card-header py-2">
                                    <h6 class="mb-0"><i class="fas fa-chart-line"></i> Available Strikes</h6>
                                </div>
                                <div class="card-body py-2">
                                    <div class="row" id="strikeGrid">
                                        <!-- Strike buttons will be generated here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order Entry -->
                <div class="card">
                    <div class="card-header">
                        <h6 class="mb-0"><i class="fas fa-plus-circle"></i> Place Order</h6>
                    </div>
                    <div class="card-body">
                        <form id="orderForm">
                            <div class="mb-3">
                                <label for="selectedStrike" class="form-label">Strike Price</label>
                                <select class="form-select" id="selectedStrike" required>
                                    <option value="">Select Strike</option>
                                </select>
                            </div>
                            <div class="row mb-3">
                                <div class="col-6">
                                    <label for="optionType" class="form-label">Option Type</label>
                                    <select class="form-select" id="optionType" required>
                                        <option value="CE">Call (CE)</option>
                                        <option value="PE">Put (PE)</option>
                                    </select>
                                </div>
                                <div class="col-6">
                                    <label for="orderAction" class="form-label">Action</label>
                                    <select class="form-select" id="orderAction" required>
                                        <option value="BUY">Buy</option>
                                        <option value="SELL">Sell</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-6">
                                    <label for="quantity" class="form-label">Quantity</label>
                                    <input type="number" class="form-control" id="quantity" value="75" min="25" step="25" required>
                                </div>
                                <div class="col-6">
                                    <label for="orderType" class="form-label">Order Type</label>
                                    <select class="form-select" id="orderType" onchange="togglePriceFields()" required>
                                        <option value="MARKET">Market</option>
                                        <option value="LIMIT">Limit</option>
                                        <option value="GTT">GTT</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3" id="priceField" style="display: none;">
                                <label for="price" class="form-label">Price</label>
                                <input type="number" class="form-control" id="price" placeholder="10.50" step="0.05">
                            </div>
                            <div class="mb-3" id="triggerPriceField" style="display: none;">
                                <label for="triggerPrice" class="form-label">Trigger Price</label>
                                <input type="number" class="form-control" id="triggerPrice" placeholder="12.00" step="0.05">
                            </div>
                            <button type="submit" class="btn btn-success w-100">
                                <i class="fas fa-paper-plane"></i> Place Order
                            </button>
                        </form>
                        
                        <!-- Basket Orders Section -->
                        <div class="mt-3">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <h6 class="mb-0"><i class="fas fa-shopping-basket"></i> Order Basket</h6>
                                <div>
                                    <button type="button" class="btn btn-outline-info btn-sm" onclick="addToBasket()">
                                        <i class="fas fa-plus"></i> Add to Basket
                                    </button>
                                    <button type="button" class="btn btn-success btn-sm" onclick="placeBasketOrders()">
                                        <i class="fas fa-check-double"></i> Place All
                                    </button>
                                    <button type="button" class="btn btn-outline-danger btn-sm" onclick="clearBasket()">
                                        <i class="fas fa-trash"></i> Clear
                                    </button>
                                </div>
                            </div>
                            <div id="basketOrdersDisplay" class="border rounded p-2" style="max-height: 200px; overflow-y: auto;">
                                <small class="text-muted">No orders in basket. Add orders using "Add to Basket" button.</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Orders & Positions Panel -->
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs" id="tradingTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="orders-tab" data-bs-toggle="tab" data-bs-target="#orders" type="button" role="tab">
                                    <i class="fas fa-list"></i> Orders
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="positions-tab" data-bs-toggle="tab" data-bs-target="#positions" type="button" role="tab">
                                    <i class="fas fa-chart-bar"></i> Positions
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="holdings-tab" data-bs-toggle="tab" data-bs-target="#holdings" type="button" role="tab">
                                    <i class="fas fa-briefcase"></i> Holdings
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="history-tab" data-bs-toggle="tab" data-bs-target="#history" type="button" role="tab">
                                    <i class="fas fa-history"></i> History
                                </button>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="tab-content" id="tradingTabsContent">
                            <!-- Orders Tab -->
                            <div class="tab-pane fade show active" id="orders" role="tabpanel">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h6 class="mb-0">Order Book</h6>
                                    <button class="btn btn-sm btn-outline-primary" onclick="refreshOrders()">
                                        <i class="fas fa-sync-alt"></i> Refresh
                                    </button>
                                </div>
                                <div class="table-responsive">
                                    <table class="table table-sm table-hover">
                                        <thead class="table-dark">
                                            <tr>
                                                <th>Order ID</th>
                                                <th>Symbol</th>
                                                <th>Type</th>
                                                <th>Action</th>
                                                <th>Qty</th>
                                                <th>Price</th>
                                                <th>Status</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="ordersTableBody">
                                            <tr>
                                                <td colspan="8" class="text-center text-muted">No orders found</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- Positions Tab -->
                            <div class="tab-pane fade" id="positions" role="tabpanel">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h6 class="mb-0">Position Book</h6>
                                    <button class="btn btn-sm btn-outline-primary" onclick="refreshPositions()">
                                        <i class="fas fa-sync-alt"></i> Refresh
                                    </button>
                                </div>
                                <div class="table-responsive">
                                    <table class="table table-sm table-hover">
                                        <thead class="table-dark">
                                            <tr>
                                                <th>Symbol</th>
                                                <th>Net Qty</th>
                                                <th>Avg Price</th>
                                                <th>LTP</th>
                                                <th>P&L</th>
                                                <th>Day P&L</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="positionsTableBody">
                                            <tr>
                                                <td colspan="7" class="text-center text-muted">No positions found</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- Holdings Tab -->
                            <div class="tab-pane fade" id="holdings" role="tabpanel">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h6 class="mb-0">Holdings</h6>
                                    <button class="btn btn-sm btn-outline-primary" onclick="refreshHoldings()">
                                        <i class="fas fa-sync-alt"></i> Refresh
                                    </button>
                                </div>
                                <div class="table-responsive">
                                    <table class="table table-sm table-hover">
                                        <thead class="table-dark">
                                            <tr>
                                                <th>Symbol</th>
                                                <th>Quantity</th>
                                                <th>Avg Price</th>
                                                <th>LTP</th>
                                                <th>P&L</th>
                                                <th>Day Change</th>
                                            </tr>
                                        </thead>
                                        <tbody id="holdingsTableBody">
                                            <tr>
                                                <td colspan="6" class="text-center text-muted">No holdings found</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- History Tab -->
                            <div class="tab-pane fade" id="history" role="tabpanel">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h6 class="mb-0">Trade History</h6>
                                    <button class="btn btn-sm btn-outline-primary" onclick="refreshHistory()">
                                        <i class="fas fa-sync-alt"></i> Refresh
                                    </button>
                                </div>
                                <div class="table-responsive">
                                    <table class="table table-sm table-hover">
                                        <thead class="table-dark">
                                            <tr>
                                                <th>Date</th>
                                                <th>Symbol</th>
                                                <th>Action</th>
                                                <th>Qty</th>
                                                <th>Price</th>
                                                <th>P&L</th>
                                            </tr>
                                        </thead>
                                        <tbody id="historyTableBody">
                                            <tr>
                                                <td colspan="6" class="text-center text-muted">No trade history found</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label for="orderProduct" class="form-label">Product</label>
                                                    <select class="form-select" id="orderProduct">
                                                        <option value="MIS">MIS (Intraday)</option>
                                                        <option value="NRML" selected>NRML (Normal)</option>
                                                        <option value="CNC">CNC (Delivery)</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label for="orderValidity" class="form-label">Validity</label>
                                                    <select class="form-select" id="orderValidity">
                                                        <option value="DAY" selected>Day</option>
                                                        <option value="IOC">IOC</option>
                                                        <option value="GTD">GTD</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="d-grid gap-2 d-md-flex">
                                                <button type="button" class="btn btn-success" onclick="placeOrder()">
                                                    <i class="fas fa-plus"></i> Place Order
                                                </button>
                                                <button type="button" class="btn btn-info" onclick="addToBasketFromForm()">
                                                    <i class="fas fa-shopping-basket"></i> Add to Basket
                                                </button>
                                                <button type="button" class="btn btn-secondary" onclick="getMargins()">
                                                    <i class="fas fa-calculator"></i> Get Margins
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Order Management -->
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h6 class="mb-0">Order Management</h6>
                                        <button class="btn btn-sm btn-outline-primary" onclick="refreshOrders()">
                                            <i class="fas fa-sync-alt"></i> Refresh
                                        </button>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <div class="btn-group w-100" role="group">
                                                <button type="button" class="btn btn-outline-primary active" onclick="showTab('orders')">Orders</button>
                                                <button type="button" class="btn btn-outline-primary" onclick="showTab('positions')">Positions</button>
                                                <button type="button" class="btn btn-outline-primary" onclick="showTab('holdings')">Holdings</button>
                                            </div>
                                        </div>
                                        <div id="ordersTab" class="tab-content">
                                            <div id="ordersList" class="order-list">
                                                <div class="text-center text-muted">
                                                    <i class="fas fa-list-alt fa-2x mb-2"></i><br>
                                                    No orders found
                                                </div>
                                            </div>
                                        </div>
                                        <div id="positionsTab" class="tab-content" style="display: none;">
                                            <div id="positionsList" class="order-list">
                                                <div class="text-center text-muted">
                                                    <i class="fas fa-chart-line fa-2x mb-2"></i><br>
                                                    No positions found
                                                </div>
                                            </div>
                                        </div>
                                        <div id="holdingsTab" class="tab-content" style="display: none;">
                                            <div id="holdingsList" class="order-list">
                                                <div class="text-center text-muted">
                                                    <i class="fas fa-wallet fa-2x mb-2"></i><br>
                                                    No holdings found
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Basket Orders -->
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h6 class="mb-0">Basket Orders</h6>
                                        <div>
                                            <button class="btn btn-sm btn-success" onclick="placeBasketOrder()">
                                                <i class="fas fa-paper-plane"></i> Place All
                                            </button>
                                            <button class="btn btn-sm btn-outline-danger" onclick="clearBasket()">
                                                <i class="fas fa-trash"></i> Clear
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div id="basketInfo">
                                            <div class="text-center text-muted">
                                                <i class="fas fa-shopping-basket fa-2x mb-2"></i><br>
                                                No orders in basket
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Option Chain Container -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Option Chain - NIFTY</h5>
                    </div>
                    <div class="card-body">
                        <div id="optionChainContainer">
                            <div class="alert alert-secondary text-center">
                                <i class="fas fa-chart-bar fa-2x mb-2"></i><br>
                                Complete authentication to load option chain
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
